<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/xdoc/about.xml at 2019-09-05 17:25
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190905" />
    <meta http-equiv="Content-Language" content="en" />
    <title>OakPAL - Parent &#x2013; About OakPAL - Oak Package Acceptance Library</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script type="text/javascript" src="./js/apache-maven-fluido-1.7.min.js"></script>
    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-37073514-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="index.html" id="bannerLeft"><h2>OakPAL - Oak Package Acceptance Library</h2>
</a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2019-09-05 17:25<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.4.1</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://wiki.github.com/adamcin/oakpal/frequently-asked-questions" class="externalLink" title="FAQ">FAQ</a></li>
      <li class="pull-right"><a href="http://wiki.github.com/adamcin/oakpal/" class="externalLink" title="Wiki">Wiki</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="the-oakpal-plan.html" title="The OakPAL Plan"><span class="none"></span>The OakPAL Plan</a></li>
      <li class="nav-header">Modules</li>
    <li><a href="oakpal-core/index.html" title="OakPAL - Core"><span class="none"></span>OakPAL - Core</a></li>
    <li><a href="oakpal-cli/index.html" title="OakPAL - CLI"><span class="none"></span>OakPAL - CLI</a></li>
    <li><a href="oakpal-webster/index.html" title="OakPAL - Webster"><span class="none"></span>OakPAL - Webster</a></li>
    <li><a href="oakpal-maven-plugin/index.html" title="OakPAL - OakPAL Maven Plugin"><span class="none"></span>OakPAL - OakPAL Maven Plugin</a></li>
    <li><a href="oakpal-testing/index.html" title="OakPAL - Testing"><span class="none"></span>OakPAL - Testing</a></li>
      <li class="nav-header">Resources @ Github</li>
    <li><a href="https://github.com/adamcin/oakpal" class="externalLink" title="Get the Source"><span class="none"></span>Get the Source</a></li>
    <li><a href="https://github.com/adamcin/oakpal/issues" class="externalLink" title="Report Issues"><span class="none"></span>Report Issues</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org" title="Build with Maven" class="builtBy"><img class="builtBy"  alt="Build with Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >

    
        <div class="section">
<h2><a name="About_OakPAL"></a>About OakPAL</h2>
            
<p>
                OakPAL was inspired by my continuing attempts to improve the validation features of the <a class="externalLink" href="https://wiki.jenkins-ci.org/display/JENKINS/CRX+Content+Package+Deployer+Plugin">CRX Content
                Package Deployer Plugin for Jenkins</a>. It relies on another library I created called
                granite-client-packman. The <a class="externalLink" href="http://adamcin.net/granite-client-packman/apidocs/net/adamcin/granite/client/packman/validation/PackageValidator.html">
                validation features
            </a> I added to that library began to hit significant
                limitations because I was approaching the task from a static analysis perspective. It's easy to
                statically examine a package for the content that it will create in a repository, because this content
                exists in the artifact itself, and is predictably shaped by the package's workspace filter. It is also
                relatively easy to check package metadata for completeness and conformance to CI assumptions and to
                parse DocView XML files to ensure well-formedness.
            </p>

            
<p>
                However, static package analysis leaves some major gaps and edge cases unaddressed:
            </p>

            
<ol style="list-style-type: decimal">
                
<li>
                    Inability to make deterministic assertions about what existing content will be deleted or changed
                    upon
                    package installation.
                </li>
                
<li>
                    Inability to account for NodeType constraints.
                </li>
                
<li>
                    Inability to perform analysis of multiple packages that will be installed in sequence.
                </li>
            </ol>

            
<p>
                After ultimately failing to completely address the above issues with heuristics and broad and/or
                high-level restrictions on ACHandling and FilterSet import modes, I finally realized that the only way
                to properly test a package is by installing it, and watching (listening?) for what happens to the target
                repository.
            </p>

            
<p>
                The CRX Jenkins plugin (and the content-package-maven-plugin) make it possible to install packages in
                AEM servers over HTTP, but the simple protocol returns only limited information about errors, you have
                to account for transport errors and authentication, and the heavyweight nature of the application makes
                it painful to implement a CI process that can reset an AEM server to an exact precondition state.
            </p>

            
<p>
                OakPAL was designed to fill this gap, by providing:
            </p>
            
<ol style="list-style-type: decimal">
                
<li>
                    A model for repeatable repository state initialization using InitStages and preinstall packages.
                </li>
                
<li>
                    An OakMachine class with a fluent Builder API that encapsulates the creation of a fresh Oak
                    repository, state initialization, and package installation for every set of package files.
                </li>
                
<li>
                    A pluggable listener API with classpath discovery of third-party <a class="externalLink" href="https://github.com/adamcin/oakpal/blob/master/core/src/main/resources/OAKPAL-INF/checklists/basic.json">
                    Checklists</a>, <a href="oakpal-core/apidocs/net/adamcin/oakpal/core/ProgressCheck.html">
                    ProgressChecks</a>, and
                    <a href="oakpal-maven-plugin/writing-a-script-check.html">ScriptProgressChecks</a>, which receive
                    progress tracker events along with read-only access to
                    incremental
                    repository state, and which can report Violations at the end of a scan.
                </li>
            </ol>

            
<p>
                The first integration target for this library is Maven, via the <a href="oakpal-maven-plugin/index.html">oakpal-maven-plugin</a>. Depending on
                interest, future integrations would likely include the Jenkins CRX plugin and a command-line interface
                deployable with Docker.
            </p>
        </div>
    

        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2017&#x2013;2019.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>